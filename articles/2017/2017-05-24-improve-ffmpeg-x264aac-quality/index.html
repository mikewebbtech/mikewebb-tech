<!doctype html>
<html lang="en"><head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="generator" content="Hugo 0.147.3">
  <title>Improve FFmpeg x264/AAC quality</title><link rel="stylesheet" href="https://mikewebbtech.github.io/mikewebb-tech/css/style.min.686c9b56167535e5c96c35361fdaf8397d1d25d425ae031b72d6e0d23c9e6ad4.css" />
  <link rel="icon" type="image/x-icon"  href="/mikewebb-tech/img/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/mikewebb-tech/img/apple-touch-icon.png" />
  <link rel="manifest" href="/mikewebb-tech/img/site.webmanifest" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
</head>
<body data-theme="dark">
    <div class="layout">  <aside class="sidebar">
    <div class="logo">
      <img src="/mikewebb-tech/avatar.png" alt="avatar" width="192">
      <p class="byline">
        MIKE WEBB TECH
      </p>
      <p class="byline">
        <a href="https://github.com/mikewebbtech" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-square-github"></i></a>
        <a href="https://www.linkedin.com/in/michael-webb-1a36b8a5/" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-linkedin"></i></a>
      </p>
    </div>
    <nav class="nav">
  <ul><li>
        <a href="/mikewebb-tech/"><i class="fa-solid fa-house"></i> Home</a>
      </li><li>
        <a href="/mikewebb-tech/about/"><i class="fa-solid fa-circle-info"></i> About</a>
      </li><li>
        <a href="/mikewebb-tech/articles/"><i class="fa-solid fa-file-code"></i> Articles</a>
      </li><li>
        <a href="/mikewebb-tech/categories/"><i class="fa-solid fa-list"></i> Categories</a>
      </li><li>
        <a href="/mikewebb-tech/series/"><i class="fa-solid fa-layer-group"></i> Series</a>
      </li><li>
        <a href="/mikewebb-tech/tags/"><i class="fa-solid fa-tags"></i> Tags</a>
      </li></ul>
</nav>

    <div class="nav-bottom">
      <a href="https://mikewebb.tech">
        Designed by Mike Webb 
      </a>
      <a href="https://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
        &copy; 2025 CC BY-NC 4.0
      </a>
      <p>
      created using
      </p> 
      <a href="https://gohugo.io" target="_blank">
        <img src="/mikewebb-tech/hugo-logo-wide.svg" alt="hugo.io" style="width: 40%">
      </a>
      <br><br>
      <br><br>
    </div>
  </aside>
<header class="header">
  <h1>Improve FFmpeg x264/AAC quality</h1>
  
</header>
<main class="main">

<article class="post">
  <div class="post-header">
    
    <div class="article-meta">
      <div>
        <i class="fa-solid fa-calendar-days"></i>
        May 24, 2017
      </div>
      <div>
        <i class="fa-solid fa-file-lines"></i>
        467 words
      </div>
      <div>
        <i class="fa-solid fa-list"></i>
        
        <a class="tag" href="/mikewebb-tech/categories/home-lab/">Home Lab</a>
        
      </div>
      
      <div>
        <i class="fa-solid fa-tags"></i>
        
        <a class="tag" href="/mikewebb-tech/tags/mac/">Mac</a>
        <a class="tag" href="/mikewebb-tech/tags/macports/">Macports</a>
        <a class="tag" href="/mikewebb-tech/tags/opensource/">Opensource</a>
        <a class="tag" href="/mikewebb-tech/tags/ffmpeg/">Ffmpeg</a>
      </div>
      </div>
    </div><div class="post-content"><p>I use FFmpeg &ldquo;a lot&rdquo;.  It is open source and free.  It is the driving back end used by many commercial and shareware applications.  Why pay for a front end when the back end is free and very well documented.  Stop paying a lazy tax and gain further power by simply taking some time to learn how to use the command line based application (this logic can be applied to so many open source nongraphical applications)</p>
<p>People, can we please (really, please) kill off MP3 (and DivX/XviD for that matter), technology has evolved.  For higher end sound files I either leave as</p>
<ul>
<li>.wav (rarely - very large size file original master quality and offer more freedom with regards to file manipulation),</li>
<li>.flac (sometimes- Free Lossless Audio Codec, says it all. Lossless but can embed metadata into the file, e.g. artist, album, year etc) or</li>
<li> .aiff (regularly - Audio Interchange File Format. my goto for high quality digital audio purchases and what I use for Traktor sessions)</li>
<li>.m4a (the bulk of my audio collection.  it&rsquo;s just a container for AAC , Advanced Audio Coding) the focus of this post.</li>
</ul>
<p>The FFmpeg wiki has <a href="http://trac.ffmpeg.org/wiki/Encode/AAC">AAC</a> more then I could ever say on encoding AAC and is highly recommended for reading and referencing. The main part I want to point out though is:</p>
<p>&ldquo;FFmpeg can support two AAC-LC encoders (aac &amp; <strong>libfdk_aac</strong>) and <strong>one HE-AAC(v1/2) encoder (libfdk_aac)</strong>. The license of libfdk_aac is not compatible with the GPL, &hellip; Therefore this encoder have been designated as &ldquo;non-free&rdquo;, and you cannot download a pre-built ffmpeg that supports it&rdquo;</p>
<p>More then you would ever know but all that you should know about libfdk_aac, better known as Fraunhofer FDK AAC, can be found at the Hydrogenaud wiki <a href="http://wiki.hydrogenaud.io/index.php?title=Fraunhofer_FDK_AAC#FLAC_to_M4A_example_with_quirks">fdk_aac</a> (btw, 2 thumbs up for the whole wiki if you&rsquo;re into that kind of thing).</p>
<p>For mac users using MacPorts this is as simple as using the following command line to install FFmpeg with fdk_aac support.</p>
<pre tabindex="0"><code>sudo port install ffmpeg +nonfree
</code></pre><p>to ensure that FFmpeg is using the higher quality transcoding codec, specify it in the command line e.g.</p>
<pre tabindex="0"><code>ffmpeg -i high-quality-audio-file.webm **-c:1 libfdk\_aac** -b:a 320 -cutoff 15000 high-quality-audio-file.m4a
</code></pre><p>Though transcoding from a lossy format like MP3, AAC, Vorbis, Opus, WMA, etc. to the same or different lossy format might degrade the audio quality even if the bitrate stays the same (or higher)</p>
<p>Is this worth the effort in posting? I would say yes.  If you are going to the effort of encoding an aac file, regardless of using FFmpeg, a simple bit of knowledge and effort can make a noticeable difference to the end result.  We aren&rsquo;t as tight with storage as we used to be 20 years ago, so lets not let that compromise the quality and range of the audio files we archive.</p>
</div>

  <div class="post-footer"></div></article>
</main>
    </div>
  </body>
</html>
